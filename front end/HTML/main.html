<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title> SASH Talk</title>
    <link rel="icon" type="image/png" href="/images/outgoing-call.png">

    <link rel="stylesheet" href="/CSS/main.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

</head>
<body>

<header>
    <div class="logo">
        <img src="/images/logo.png" alt="Logo" id="logo">
    </div>
    <button class="logout-btn" id="logoutBtn">
        <i class="fas fa-sign-out-alt"></i> Logout
    </button>
</header>

<div class="container">
    <div class="sidebar">
        <h2>Online Users</h2>
        <!-- User list will be dynamically inserted here -->
    </div>

    <div class="details" id="details">
        <!-- Initial Welcome Message -->
        <div class="welcome-container">
            <img src="/images/hello.gif" alt="Welcome" class="welcome-gif"/>
            <h2>Welcome to SASH Talk!</h2>
            <p>Select a user from the list to start a call or chat.</p>
        </div>
    </div>
</div>

<!-- Logout Confirmation Modal -->
<div id="logoutModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Logout</h2>
        </div>
        <div class="modal-body">
            <p>Are you sure you want to logout?</p>
        </div>
        <div class="modal-footer">
            <button id="confirmLogoutBtn" class="btn btn-end-call">Yes, Logout</button>
            <button id="cancelLogoutBtn" class="btn btn-secondary">No</button>
        </div>
        </div>
    </div>

<!-- Incoming Call Modal -->
<div id="incomingCallModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Incoming Call</h2>
        </div>
        <div class="modal-body">
            <p>You have an incoming <strong id="callType"></strong> call from <strong id="callerName"></strong>.</p>
        </div>
        <div class="modal-footer">
            <button id="acceptCallBtn" class="btn btn-video">
                <i class="fas fa-check"></i> Accept
            </button>
            <button id="rejectCallBtn" class="btn btn-end-call">
                <i class="fas fa-times"></i> Reject
            </button>
        </div>
    </div>
</div>

<!-- Incoming Message Modal -->
<div id="incomingMessageModal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h2>New Message</h2>
        </div>
        <div class="modal-body">
            <p>You have a new message from <strong id="messageSenderName"></strong>.</p>
        </div>
        <div class="modal-footer">
            <button id="viewChatBtn" class="btn btn-chat">
                <i class="fas fa-comments"></i> View Chat
            </button>
            <button id="closeMessageBtn" class="btn btn-secondary">
                <i class="fas fa-times"></i> Close
            </button>
        </div>
    </div>
</div>

<audio id="ringtone" src="../assets/ringtone.mp3" loop></audio>
<script type="module" src="../js/api.js"></script>
<script type="module" src="../js/main.js"></script>
<script type="module" src="../js/logout.js"></script>

</body>
</html>